[agent]
  ## Default data collection interval for all inputs
  interval = "1s"
  flush_interval = "1s"


# # Read JMX metrics from a Jolokia REST proxy endpoint
[[inputs.jolokia2_agent]]
  urls = ["http://127.0.0.1:8778/jolokia/"]
  tagexclude = ["jolokia_agent_*"]



## Zookeeper
[[inputs.jolokia2_agent.metric]]
  name         = "zookeeper"
  mbean        = "org.apache.ZooKeeperService:name0=*"
  tag_keys     = ["name0"]  
[[inputs.jolokia2_agent.metric]]
  name         = "zookeeper_InMemoryDataTree"
  mbean        = "org.apache.ZooKeeperService:name0=*,name1=InMemoryDataTree"
  tag_keys     = ["name0"]
[[inputs.jolokia2_agent.metric]]
  name         = "zookeeper_per_connection"
  mbean        = "org.apache.ZooKeeperService:name0=*,name1=Connections,name2=*,name3=*"
  tag_keys     = ["name0","name2","name3"]
  
  
[[outputs.file]]
files = ["stdout"]